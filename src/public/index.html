<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />

		<!-- favicon -->
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="/media/icons/apple-touch-icon.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="/media/icons/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="192x192"
			href="/media/icons/android-chrome-192x192.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="/media/icons/favicon-16x16.png"
		/>
		<link rel="manifest" href="/media/icons/site.webmanifest" />
		<link
			rel="mask-icon"
			href="/media/icons/safari-pinned-tab.svg"
			color="#5bbad5"
		/>
		<link rel="shortcut icon" href="/media/icons/favicon.ico" />
		<meta name="msapplication-TileColor" content="#2d89ef" />
		<meta
			name="msapplication-TileImage"
			content="/media/icons/mstile-144x144.png"
		/>
		<meta
			name="msapplication-config"
			content="/media/icons/browserconfig.xml"
		/>
		<meta name="theme-color" content="#ffffff" />

		<!-- preload images -->
		<link rel="preload" href=media/mockups/1/200x150.png"" as="image">
		<link rel="preload" href="media/mockups/2/200x150.png" as="image" />
		<link rel="preload" href="media/mockups/3/200x150.png" as="image" />

		<!-- preload fonts -->
		<link
			rel="preload"
			href="https://fonts.gstatic.com/s/abel/v9/MwQ5bhbm2POE2V9BPQ.woff2"
			type="font/woff2"
			as="font"
		/>
		<link
			rel="preload"
			href="https://fonts.gstatic.com/s/ibmplexmono/v4/-F63fjptAgt5VM-kVkqdyU8n1iIq129k.woff2"
			type="font/woff2"
			as="font"
		/>
		<link
			rel="preload"
			href="https://fonts.gstatic.com/s/ibmplexmono/v4/-F63fjptAgt5VM-kVkqdyU8n1isq129k.woff2"
			type="font/woff2"
			as="font"
		/>
		<link
			rel="preload"
			href="https://fonts.gstatic.com/s/ibmplexmono/v4/-F63fjptAgt5VM-kVkqdyU8n1iAq129k.woff2"
			type="font/woff2"
			as="font"
		/>
		<link
			rel="preload"
			href="https://fonts.gstatic.com/s/ibmplexmono/v4/-F63fjptAgt5VM-kVkqdyU8n1iEq129k.woff2"
			type="font/woff2"
			as="font"
		/>
		<link
			rel="preload"
			href="https://fonts.gstatic.com/s/ibmplexmono/v4/-F63fjptAgt5VM-kVkqdyU8n1i8q1w.woff2"
			type="font/woff2"
			as="font"
		/>

		<!-- preload stylesheets -->
		<link
			rel="preload"
			href="https://fonts.googleapis.com/css?family=Abel|IBM+Plex+Mono"
			as="style"
		/>
		<link rel="preload" href="style.css" as="style" />

		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Abel|IBM+Plex+Mono"
		/>
		<link rel="stylesheet" href="style.css" />
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
			integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
			crossorigin="anonymous"
		/>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
			crossorigin="anonymous"
		/>
		<!-- <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap-grid.min.css"
      integrity="rCcl0/HQvbvpTrAC/9W17ZQ8hWQl3IaM/oJPOo8pJpBXRGPrTw9zaYtrsPeFDvfV"
      crossorigin="anonymous"
    /> -->

		<title>David Whynot's Portfolio</title>
	</head>

	<body>
		<!-- <div id="ar"></div> -->
		<div class="main">
			<section id="hero" class="hero" data-toggle="true">
				<div class="section-container">
					<svg src="logo.svg" class="hero-img"></svg>

					<div class="social">
						<div class="line"></div>
						<a href="https://github.com/davidmwhynot" target="_blank">
							<svg src="github.svg"></svg>
						</a>
						<a href="https://codepen.io/davidmwhynot" target="_blank">
							<svg src="codepen.svg"></svg>
						</a>
						<a href="https://www.linkedin.com/in/david-whynot" target="_blank">
							<svg src="linkedin.svg"></svg>
						</a>
						<div class="line"></div>
					</div>

					<h1>Full Stack Web Developer</h1>

					<div class="images">
						<img
							src="media/mockups/1/200x150.png"
							alt="iPhone sample design mockup 1"
							class="mockup-1 sz-200x150"
							decoding="sync"
							importance="high"
						/>
						<img
							src="media/mockups/1/400x300.png"
							alt="iPhone sample design mockup 1"
							class="mockup-1 sz-400x300"
							decoding="async"
							importance="high"
						/>
						<img
							src="media/mockups/1/800x600.png"
							alt="iPhone sample design mockup 1"
							class="mockup-1 sz-800x600"
							decoding="sync"
							importance="low"
						/>
						<img
							src="media/mockups/1/1600x1200.png"
							alt="iPhone sample design mockup 1"
							class="mockup-1 sz-1600x1200"
							decoding="sync"
							importance="low"
						/>
						<!-- <img
							src="media/mockups/1/3200x2400.png"
							alt="iPhone sample design mockup 1"
							class="mockup-1 sz-3200x2400"
							decoding="sync"
							importance="low"
						/> -->

						<img
							src="media/mockups/2/200x150.png"
							alt="iPhone sample design mockup 2"
							class="mockup-2 sz-200x150"
							decoding="sync"
							importance="high"
						/>
						<img
							src="media/mockups/2/400x300.png"
							alt="iPhone sample design mockup 2"
							class="mockup-2 sz-400x300"
							decoding="async"
							importance="high"
						/>
						<img
							src="media/mockups/2/800x600.png"
							alt="iPhone sample design mockup 2"
							class="mockup-2 sz-800x600"
							decoding="sync"
							importance="low"
						/>
						<img
							src="media/mockups/2/1600x1200.png"
							alt="iPhone sample design mockup 2"
							class="mockup-2 sz-1600x1200"
							decoding="sync"
							importance="low"
						/>
						<!-- <img
							src="media/mockups/2/3200x2400.png"
							alt="iPhone sample design mockup 2"
							class="mockup-2 sz-3200x2400"
							decoding="sync"
							importance="low"
						/> -->

						<img
							src="media/mockups/3/200x150.png"
							alt="iPhone sample design mockup 3"
							class="mockup-3 sz-200x150"
							decoding="sync"
							importance="high"
						/>
						<img
							src="media/mockups/3/400x300.png"
							alt="iPhone sample design mockup 3"
							class="mockup-3 sz-400x300"
							decoding="async"
							importance="high"
						/>
						<img
							src="media/mockups/3/800x600.png"
							alt="iPhone sample design mockup 3"
							class="mockup-3 sz-800x600"
							decoding="sync"
							importance="low"
						/>
						<img
							src="media/mockups/3/1600x1200.png"
							alt="iPhone sample design mockup 3"
							class="mockup-3 sz-1600x1200"
							decoding="sync"
							importance="low"
						/>
						<!-- <img
							src="media/mockups/3/3200x2400.png"
							alt="iPhone sample design mockup 3"
							class="mockup-3 sz-3200x2400"
							decoding="sync"
							importance="low"
						/> -->
					</div>
				</div>
			</section>

			<section id="work" class="work" data-toggle="false">
				<i class="x"></i>
				<div class="section-container">
					<h1>My Work</h1>
					<div class="work-container">
						<div class="row mb-5">
							<div class="col-xl-4 align-self-center">
								<div class="row mb-3 mb-xl-0">
									<div class="col-3 col-xl-4 align-self-end">
										<img
											src="https://picsum.photos/1080/1920?random&1"
											alt=""
										/>
									</div>
									<div class="col-9 col-xl-8">
										<img
											src="https://picsum.photos/1920/1080?random&2"
											alt=""
										/>
									</div>
								</div>
							</div>
							<div class="col-xl-8">
								<h1>RedditPull</h1>
								<div class="row">
									<div class="col-sm">
										<p>
											I started building RedditPull for my own personal use. I
											wanted a better way to browse images from Reddit on
											desktop and built a solution in Node. Slowly, this project
											has evolved into an alternative Reddit client.
										</p>
										<p>
											I spent a fair amount of time creating scalable
											infrastructure for RedditPull with Docker Swarm deployed
											to AWS CloudFormation. There were many challenges along
											the way and I learned a lot about building containerized
											applications.
										</p>
									</div>
									<div class="col-sm">
										<div class="row">
											<div class="col">
												<h2>Front-End</h2>
												<ul>
													<li>React</li>
													<li>Sass</li>
													<li>Bootstrap 4</li>
												</ul>
											</div>
											<div class="col">
												<h2>Back-End</h2>
												<ul>
													<li>Docker Swarm</li>
													<li>AWS CloudFormation</li>
													<li>Node + Express</li>
													<li>MySQL</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
								<a href="#" class="button mr-2">View Prototype</a>
								<span>
									<i class="fa fa-eye-slash"></i>
									Source private
								</span>
							</div>
						</div>
						<div class="row mb-5">
							<div class="col-xl-4 align-self-center">
								<div class="row mb-3 mb-xl-0">
									<div class="col align-self-end">
										<img
											src="media/starium.png"
											alt="StariumXCV Federations Module"
										/>
									</div>
								</div>
							</div>
							<div class="col-xl-8">
								<h1>StariumXCV "Federations" Module</h1>
								<div class="row">
									<div class="col-sm">
										<p>
											StariumXCV is a free to play browser-based Sci-Fi strategy
											game.
										</p>
										<p>
											I am the lead developer for the game's social interaction
											module aka "Federations". Features of the module include
											Roster management, permission levels, an event calendar,
											group forums, a polling system, and much more.
										</p>
									</div>
									<div class="col-sm">
										<div class="row">
											<div class="col">
												<h2>Front-End</h2>
												<ul>
													<li>Preact</li>
													<li>Sass</li>
												</ul>
											</div>
											<div class="col">
												<h2>Back-End</h2>
												<ul>
													<li>PHP</li>
													<li>MySQL</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
								<a href="#" class="button mr-2">View Demo</a>
								<span>
									<i class="fa fa-eye-slash"></i>
									Source private
								</span>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section id="skills" class="skills" data-toggle="false">
				<i class="x"></i>
				<div class="section-container">
					<h1>Skills</h1>
					<div class="skills-container">
						<h1>Front-End</h1>
						<div class="row justify-content-between">
							<div class="col">
								<h2>Design</h2>
								<ul>
									<li>Adobe&nbsp;Photoshop</li>
									<li>Adobe&nbsp;Illustrator</li>
									<li>Figma</li>
								</ul>
							</div>
							<div class="col">
								<h2>HTML/CSS</h2>
								<ul>
									<li>Flexbox and Grid</li>
									<li>Animations</li>
									<li>Sass</li>
									<li>Bootstrap 3 & 4</li>
									<li>BEM&nbsp;Methodology</li>
									<li>HTML Email</li>
								</ul>
							</div>
							<div class="col">
								<h2>JavaScript</h2>
								<ul>
									<li>React</li>
									<li>Preact</li>
									<li>Redux</li>
									<li>jQuery</li>
								</ul>
							</div>
							<div class="col">
								<h2>Tooling</h2>
								<ul>
									<li>Webpack</li>
									<li>Babel</li>
									<li>Gulp</li>
								</ul>
							</div>
						</div>
						<h1>Back-End</h1>
						<div class="row justify-content-between">
							<div class="col">
								<h2>Languages</h2>
								<ul>
									<li>Node.js</li>
									<li>PHP</li>
									<li>Java</li>
								</ul>
							</div>
							<div class="col">
								<h2>Databases</h2>
								<ul>
									<li>MySQL</li>
									<li>MongoDB</li>
								</ul>
							</div>
							<div class="col">
								<h2>Deployment</h2>
								<ul>
									<li>Docker</li>
									<li>AWS&nbsp;CloudFormation</li>
									<li>Ubuntu Server</li>
									<li>Nginx</li>
									<li>Apache</li>
								</ul>
							</div>
							<div class="col">
								<h2>Node.js</h2>
								<ul>
									<li>TypeScript</li>
									<li>Express.js</li>
									<li>Passport for Authentication</li>
									<li>Jest Unit Testing</li>
								</ul>
							</div>
						</div>
						<h1>Other</h1>
						<div class="row">
							<div class="col">
								<ul>
									<li>Git & Github</li>
									<li>Agile Development Methodology</li>
									<li>
										Automated Build and Deploy With Gulp, Git Hooks, & Shell
										Scripts
									</li>
									<li>Stripe API</li>
									<li>Puppeteer</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section id="resume" class="resume" data-toggle="false">
				<i class="x"></i>
				<div class="section-container">
					<h1>
						Résumé
						<a
							href="media/resume.pdf"
							class="btn btn-dark btn-lg ml-2"
							target="_blank"
						>
							Download
						</a>
					</h1>
					<div class="resume-container">
						<embed src="media/resume.pdf" type="application/pdf" />
					</div>
				</div>
			</section>

			<section id="contact" class="contact" data-toggle="false">
				<i class="x"></i>
				<div class="section-container">
					<h1>Contact</h1>
					<div class="contact-form mt-5">
						<div id="contactAlerts"></div>
						<div class="form-group">
							<label for="contactFormName">Name</label>
							<input type="text" class="form-control" id="contactFormName" />
						</div>
						<div class="form-group">
							<label for="contactFormEmail">Email</label>
							<input type="email" class="form-control" id="contactFormEmail" />
						</div>
						<input
							type="hidden"
							class="form-control"
							id="contactFormSubject"
							value="placeholder"
							style="display: none;"
						/>
						<div class="form-group">
							<label for="contactFormMessage">Message</label>
							<textarea
								id="contactFormMessage"
								class="form-control"
								cols="30"
								rows="10"
							></textarea>
						</div>
						<button id="contactSubmitBtn" class="btn btn-dark">Submit</button>
					</div>
				</div>
			</section>
		</div>

		<nav>
			<ul>
				<li id="workBtn">
					<span class="nav-text-wrapper"><a>My Work</a></span>
				</li>
				<li id="skillsBtn">
					<span class="nav-text-wrapper"><a>Skills</a></span>
				</li>
				<li id="resumeBtn">
					<span class="nav-text-wrapper"><a>Résumé</a></span>
				</li>
				<li id="contactBtn">
					<span class="nav-text-wrapper"><a>Contact</a></span>
				</li>
			</ul>
		</nav>

		<script type="text/javascript">
			(function() {
				window.addEventListener(
					'load',
					function() {
						// hide low res images
						var mockups = {
							mockup1: document.querySelectorAll('.mockup-1'),
							mockup2: document.querySelectorAll('.mockup-2'),
							mockup3: document.querySelectorAll('.mockup-3')
						};

						console.log(mockups);

						Object.keys(mockups).forEach(function(mock) {
							for (var i = 1; i < mockups[mock].length; ++i) {
								if (mockups[mock][i].complete) {
									mockups[mock][i].parentNode.removeChild(mockups[mock][i - 1]);
								} else {
									mockups[mock][i].addEventListener('load', function() {
										mockups[mock][i].parentNode.removeChild(
											mockups[mock][i - 1]
										);
									});
								}
							}
						});

						// set subject field name
						var contactSubject = document.getElementById('contactFormSubject');
						contactSubject.name = getRandomString();
						contactSubject.autocomplete = getRandomString();

						// get sections
						var sections = {
							hero: document.getElementById('hero'),
							work: document.getElementById('work'),
							skills: document.getElementById('skills'),
							resume: document.getElementById('resume'),
							contact: document.getElementById('contact')
						};

						// get buttons
						var buttons = {
							work: document.getElementById('workBtn'),
							skills: document.getElementById('skillsBtn'),
							resume: document.getElementById('resumeBtn'),
							contact: document.getElementById('contactBtn')
						};

						// get close buttons
						var closeBtns = document.querySelectorAll('.x');

						// display logic and dom manipulation
						function toggleSection(section) {
							return function() {
								Object.keys(sections).forEach(function(i) {
									sections[i].dataset.toggle = false;
								});
								sections[section].dataset.toggle = true;
							};
						}

						// add event listeners
						Object.keys(buttons).forEach(function(btn) {
							buttons[btn].addEventListener('click', function() {
								sections[btn].dataset.toggle === 'true'
									? toggleSection('hero')()
									: toggleSection(btn)();
							});
						});
						Object.keys(closeBtns).forEach(function(btn) {
							closeBtns[btn].addEventListener('click', toggleSection('hero'));
						});

						// contact form submit handler
						// get alert div
						var contactAlerts = document.getElementById('contactAlerts');

						// get contact button
						var contactButton = document.getElementById('contactSubmitBtn');

						// get inputs
						var contactInputs = {
							name: document.getElementById('contactFormName'),
							email: document.getElementById('contactFormEmail'),
							message: document.getElementById('contactFormMessage')
						};

						// clear input validation results on type
						Object.keys(contactInputs).forEach(function(input) {
							contactInputs[input].addEventListener('input', function() {
								removeClass(contactInputs[input], 'is-invalid');
								removeClass(contactInputs[input], 'is-valid');
							});
						});

						// handle submit button click
						contactButton.addEventListener('click', function() {
							// clear contact validation alerts
							contactAlerts.innerHTML = '';

							// get form data
							var formData = {
								name: contactInputs.name.value,
								email: contactInputs.email.value,
								message: contactInputs.message.value
							};

							// get validation result
							var inputValidation = validateInput(formData);
							console.log('inputValidation');
							console.log(inputValidation);

							// check validation result
							if (!(inputValidation.result === true)) {
								var contactAlertsHtml = '';

								// create contact alerts markukp
								inputValidation.messages.forEach(function(message) {
									contactAlertsHtml +=
										'<div class="alert alert-danger" role="alert">' +
										message +
										'</div>';
								});

								// set contact alerts markup
								contactAlerts.innerHTML = contactAlertsHtml;

								// add validation classes to contact inputs
								Object.keys(contactInputs).forEach(function(input) {
									if (inputValidation.fields.includes(input)) {
										addClass(contactInputs[input], 'is-invalid');
									} else {
										addClass(contactInputs[input], 'is-valid');
									}
								});
							} else {
								// send request to backend
								formData.subject = contactSubject.value;
								fetch('/.netlify/functions/contact', {
									method: 'POST',
									body: JSON.stringify(formData),
									headers: { 'Content-Type': 'application/json' }
								})
									.then(function(res) {
										if (res.ok) {
											contactAlerts.innerHTML =
												'<div class="alert alert-success" role="alert">Message sent!</div>';
										} else {
											contactAlerts.innerHTML =
												'<div class="alert alert-danger" role="alert">There was a problem sending your message. Please try again later or contact me directly: davidmwhynot@gmail.com</div>';
										}
									})
									['catch'](function(err) {
										// TODO: add error to alert box
										contactAlerts.innerHTML =
											'<div class="alert alert-danger" role="alert">There was a problem sending your message. Please try again later or contact me directly: davidmwhynot@gmail.com</div>';
									});
							}
						});
					},
					false
				);
			})();

			// input validation
			function validateInput(data) {
				console.log('data');
				console.log(data);
				var inputName = data.name;
				var inputEmail = data.email;
				var inputMessage = data.message;

				var validation = {
					result: true,
					messages: [],
					fields: []
				};

				if (inputName === '') {
					validation.result = false;
					validation.messages.push('Please enter your name.');
					validation.fields.push('name');
				}
				if (!validateEmail(inputEmail)) {
					validation.result = false;
					validation.messages.push('Please enter a valid email address.');
					validation.fields.push('email');
				}
				if (inputMessage === '') {
					validation.result = false;
					validation.messages.push('Please enter a message.');
					validation.fields.push('message');
				}

				return validation;
			}

			// email validation
			function validateEmail(email) {
				var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
				return re.test(String(email).toLowerCase());
			}

			// css class toggling
			function hasClass(ele, cls) {
				return !!ele.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
			}
			function addClass(ele, cls) {
				if (!hasClass(ele, cls)) ele.className += ' ' + cls;
			}
			function removeClass(ele, cls) {
				if (hasClass(ele, cls)) {
					var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
					ele.className = ele.className.replace(reg, ' ');
				}
			}

			// random string
			function getRandomString() {
				return (
					Math.random()
						.toString(36)
						.substring(2, 15) +
					Math.random()
						.toString(36)
						.substring(2, 15)
				);
			}

			// array includes polyfill
			Array.prototype.includes ||
				Object.defineProperty(Array.prototype, 'includes', {
					value: function(r, e) {
						if (null == this)
							throw new TypeError('"this" is null or not defined');
						var t = Object(this),
							n = t.length >>> 0;
						if (0 === n) return !1;
						var i,
							o,
							a = 0 | e,
							u = Math.max(a >= 0 ? a : n - Math.abs(a), 0);
						for (; u < n; ) {
							if (
								(i = t[u]) === (o = r) ||
								('number' == typeof i &&
									'number' == typeof o &&
									isNaN(i) &&
									isNaN(o))
							)
								return !0;
							u++;
						}
						return !1;
					}
				});
			// fetch polyfill
			// prettier-ignore
			self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,s){var r=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var c in r.open(n.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+","+t:t}),t(a())},r.onerror=s,r.withCredentials="include"==n.credentials,n.headers)r.setRequestHeader(c,n.headers[c]);r.send(n.body||null)})});
		</script>
	</body>
</html>
